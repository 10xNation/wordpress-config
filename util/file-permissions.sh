#!/bin/bash


# ================================================================================================ #
# CONFIG
# ================================================================================================ #
WP_ROOT="/var/www/wordpress"
WP_UPLOADS="$WP_ROOT/wp-content/uploads"
WEB_SERVER_USER="apache"
# ================================================================================================ #


# ================================================================================================ #
# FILE OWNERSHIP
# ================================================================================================ #
echo -e "\033[1;33mSetting file ownership\033[0m"
chown -R root:$WEB_SERVER_USER $WP_ROOT
# ================================================================================================ #


# ================================================================================================ #
# WEB SERVER READABLE
# ================================================================================================ #
echo -e "\033[1;33mSetting readable permissions\033[0m"
find $WP_ROOT -type f -exec chmod 0640 {} \;
find $WP_ROOT -type d -exec chmod 0750 {} \;
# ================================================================================================ #


# ================================================================================================ #
# WEB SERVER WRITABLE
# ================================================================================================ #
echo -e "\033[1;33mSetting writable permissions\033[0m"
find $WP_UPLOADS -type f -exec chmod 0660 {} \;
find $WP_UPLOADS -type d -exec chmod 0770 {} \;
# ================================================================================================ #
